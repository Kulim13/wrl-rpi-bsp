# Raspberry Pi

COMPATIBLE_MACHINE = "${MACHINE}"

# Currently, only the standard kernel is supported
TARGET_SUPPORTED_KTYPES_rpi = "standard"

# We don't have a BSP-specific branch in the repository
KBRANCH_DEFAULT_standard_rpi = "standard/base"

FILESEXTRAPATHS_prepend := "${THISDIR}/files:"

SRC_URI += "file://rpi-standard.scc"
SRC_URI += "file://rpi-standard.cfg"

SRC_URI += "file://0001-Revert-SUNRPC-Make-NFS-swap-work-with-multipath.patch"
SRC_URI += "file://0002-smsx95xx-fix-crimes-against-truesize.patch"
SRC_URI += "file://0003-smsc95xx-Disable-turbo-mode-by-default.patch"
SRC_URI += "file://0004-add-smsc95xx-packetsize-module_param.patch"
SRC_URI += "file://0005-Allow-mac-address-to-be-set-in-smsc95xx.patch"
SRC_URI += "file://0006-smsc95xx-Experimental-Enable-turbo_mode-and-packetsi.patch"
SRC_URI += "file://0007-serial-Take-care-starting-a-hung-up-tty-s-port.patch"
SRC_URI += "file://0008-Protect-__release_resource-against-resources-without.patch"
SRC_URI += "file://0009-mm-Remove-the-PFN-busy-warning.patch"
SRC_URI += "file://0010-BCM2835_DT-Fix-I2S-register-map.patch"
SRC_URI += "file://0011-irq-bcm2836-Prevent-spurious-interrupts-and-trap-the.patch"
SRC_URI += "file://0012-irqchip-bcm2835-Add-FIQ-support.patch"
SRC_URI += "file://0013-irqchip-irq-bcm2835-Add-2836-FIQ-support.patch"
SRC_URI += "file://0014-spidev-Add-spidev-compatible-string-to-silence-warni.patch"
SRC_URI += "file://0015-serial-8250-Don-t-crash-when-nr_uarts-is-0.patch"
SRC_URI += "file://0016-pinctrl-bcm2835-Set-base-to-0-give-expected-gpio-num.patch"
SRC_URI += "file://0017-pinctrl-bcm2835-Fix-interrupt-handling-for-GPIOs-28-.patch"
SRC_URI += "file://0018-pinctrl-bcm2835-Only-request-the-interrupts-listed-i.patch"
SRC_URI += "file://0019-pinctrl-bcm2835-Return-pins-to-inputs-when-freed.patch"
SRC_URI += "file://0020-spi-bcm2835-Support-pin-groups-other-than-7-11.patch"
SRC_URI += "file://0021-spi-bcm2835-Disable-forced-software-CS.patch"
SRC_URI += "file://0022-ARM-bcm2835-Set-Serial-number-and-Revision.patch"
SRC_URI += "file://0023-dmaengine-bcm2835-Load-driver-early-and-support-lega.patch"
SRC_URI += "file://0024-firmware-Updated-mailbox-header.patch"
SRC_URI += "file://0025-clk-bcm2835-Mark-the-VPU-clock-as-critical.patch"
SRC_URI += "file://0026-clk-bcm2835-Mark-GPIO-clocks-enabled-at-boot-as-crit.patch"
SRC_URI += "file://0027-clk-bcm2835-Mark-the-CM-SDRAM-clock-s-parent-as-crit.patch"
SRC_URI += "file://0028-Enable-upstream-BCM2835-auxiliar-mini-UART-support.patch"
SRC_URI += "file://0029-rtc-Add-SPI-alias-for-pcf2123-driver.patch"
SRC_URI += "file://0030-ARM-bcm2708-Enable-building-power-domain-driver.patch"
SRC_URI += "file://0031-Main-bcm2708-bcm2709-linux-port.patch"
SRC_URI += "file://0032-reboot-Use-power-off-rather-than-busy-spinning-when-.patch"
SRC_URI += "file://0033-squash-include-ARCH_BCM2708-ARCH_BCM2709.patch"
SRC_URI += "file://0034-Add-dwc_otg-driver.patch"
SRC_URI += "file://0035-bcm2708-framebuffer-driver.patch"
SRC_URI += "file://0036-dmaengine-Add-support-for-BCM2708.patch"
SRC_URI += "file://0037-MMC-added-alternative-MMC-driver.patch"
SRC_URI += "file://0038-Adding-bcm2835-sdhost-driver-and-an-overlay-to-enabl.patch"
SRC_URI += "file://0039-mmc-Add-MMC_QUIRK_ERASE_BROKEN-for-some-cards.patch"
SRC_URI += "file://0040-cma-Add-vc_cma-driver-to-enable-use-of-CMA.patch"
SRC_URI += "file://0041-bcm2708-alsa-sound-driver.patch"
SRC_URI += "file://0042-bcm2708-vchiq-driver.patch"
SRC_URI += "file://0043-vc_mem-Add-vc_mem-driver.patch"
SRC_URI += "file://0044-vcsm-VideoCore-shared-memory-service-for-BCM2835.patch"
SRC_URI += "file://0045-Add-dev-gpiomem-device-for-rootless-user-GPIO-access.patch"
SRC_URI += "file://0046-Add-SMI-driver.patch"
SRC_URI += "file://0047-MISC-bcm2835-smi-use-clock-manager-and-fix-reload-is.patch"
SRC_URI += "file://0048-Add-SMI-NAND-driver.patch"
SRC_URI += "file://0049-lirc-added-support-for-RaspberryPi-GPIO.patch"
SRC_URI += "file://0050-Add-cpufreq-driver.patch"
SRC_URI += "file://0051-Added-hwmon-thermal-driver-for-reporting-core-temper.patch"
SRC_URI += "file://0052-Add-Chris-Boot-s-i2c-driver.patch"
SRC_URI += "file://0053-char-broadcom-Add-vcio-module.patch"
SRC_URI += "file://0054-firmware-bcm2835-Support-ARCH_BCM270x.patch"
SRC_URI += "file://0055-bcm2835-add-v4l2-camera-device.patch"
SRC_URI += "file://0056-scripts-Add-mkknlimg-and-knlinfo-scripts-from-tools-.patch"
SRC_URI += "file://0057-scripts-dtc-Update-to-upstream-version-1.4.1.patch"
SRC_URI += "file://0058-BCM2708-Add-core-Device-Tree-support.patch"
SRC_URI += "file://0059-kbuild-Ignore-dtco-targets-when-filtering-symbols.patch"
SRC_URI += "file://0060-BCM270X_DT-Add-a-.dtbo-target-use-for-overlays.patch"
SRC_URI += "file://0061-BCM270X_DT-Don-t-generate-linux-phandle-props.patch"
SRC_URI += "file://0062-BCM270x_DT-Add-pwr_led-and-the-required-input-trigge.patch"
SRC_URI += "file://0063-fbdev-add-FBIOCOPYAREA-ioctl.patch"
SRC_URI += "file://0064-Speed-up-console-framebuffer-imageblit-function.patch"
SRC_URI += "file://0065-enabling-the-realtime-clock-1-wire-chip-DS1307-and-1.patch"
SRC_URI += "file://0066-Added-Device-IDs-for-August-DVB-T-205.patch"
SRC_URI += "file://0067-config-Enable-CONFIG_MEMCG-but-leave-it-disabled-due.patch"
SRC_URI += "file://0068-hid-Reduce-default-mouse-polling-interval-to-60Hz.patch"
SRC_URI += "file://0069-rpi-ft5406-Add-touchscreen-driver-for-pi-LCD-display.patch"
SRC_URI += "file://0070-Improve-__copy_to_user-and-__copy_from_user-performa.patch"
SRC_URI += "file://0071-gpio-poweroff-Allow-it-to-work-on-Raspberry-Pi.patch"
SRC_URI += "file://0072-mfd-Add-Raspberry-Pi-Sense-HAT-core-driver.patch"
SRC_URI += "file://0073-ASoC-Add-support-for-HifiBerry-DAC.patch"
SRC_URI += "file://0074-ASoC-Add-support-for-Rpi-DAC.patch"
SRC_URI += "file://0075-ASoC-wm8804-Implement-MCLK-configuration-options-add.patch"
SRC_URI += "file://0076-ASoC-BCM-Add-support-for-HiFiBerry-Digi.-Driver-is-b.patch"
SRC_URI += "file://0077-Add-IQaudIO-Sound-Card-support-for-Raspberry-Pi.patch"
SRC_URI += "file://0078-iqaudio-dac-Compile-fix-untested.patch"
SRC_URI += "file://0079-Added-support-for-HiFiBerry-DAC.patch"
SRC_URI += "file://0080-Added-driver-for-HiFiBerry-Amp-amplifier-add-on-boar.patch"
SRC_URI += "file://0081-Added-HiFiBerry-Digi-Pro-driver.patch"
SRC_URI += "file://0082-Update-ds1307-driver-for-device-tree-support.patch"
SRC_URI += "file://0083-Add-driver-for-rpi-proto.patch"
SRC_URI += "file://0084-RaspiDAC3-support.patch"
SRC_URI += "file://0085-Add-Support-for-JustBoom-Audio-boards.patch"
SRC_URI += "file://0086-ARM-adau1977-adc-Add-basic-machine-driver-for-adau19.patch"
SRC_URI += "file://0087-New-AudioInjector.net-Pi-soundcard-with-low-jitter-a.patch"
SRC_URI += "file://0088-Add-IQAudIO-Digi-WM8804-board-support.patch"
SRC_URI += "file://0089-New-driver-for-RRA-DigiDAC1-soundcard-using-WM8741-W.patch"
SRC_URI += "file://0090-Add-support-for-Dion-Audio-LOCO-DAC-AMP-HAT.patch"
SRC_URI += "file://0091-Allo-Piano-DAC-boards-Initial-2-channel-stereo-suppo.patch"
SRC_URI += "file://0092-rpi_display-add-backlight-driver-and-overlay.patch"
SRC_URI += "file://0093-bcm2835-virtgpio-Virtual-GPIO-driver.patch"
SRC_URI += "file://0094-DRM_VC4-Allow-to-be-built-for-ARCH_BCM270x.patch"
SRC_URI += "file://0095-amba_pl011-Don-t-use-DT-aliases-for-numbering.patch"
SRC_URI += "file://0096-net-Add-non-mainline-source-for-rtl8192cu-wlan.patch"
SRC_URI += "file://0097-net-Fix-rtl8192cu-build-errors-on-other-platforms.patch"
SRC_URI += "file://0098-OF-DT-Overlay-configfs-interface.patch"
SRC_URI += "file://0099-brcm-adds-support-for-BCM43341-wifi.patch"
SRC_URI += "file://0100-brcmfmac-Disable-power-management.patch"
SRC_URI += "file://0101-brcmfmac-Use-original-country-code-as-a-fallback.patch"
SRC_URI += "file://0102-brcmfmac-do-not-use-internal-roaming-engine-by-defau.patch"
SRC_URI += "file://0103-brcmfmac-Change-stop_ap-sequence.patch"
SRC_URI += "file://0104-hci_h5-Don-t-send-conf_req-when-ACTIVE.patch"
SRC_URI += "file://0105-drm-vc4-Include-vc4_drm.h-in-uapi-in-downstream-buil.patch"
SRC_URI += "file://0106-config-Add-default-configs.patch"
SRC_URI += "file://0107-Add-arm64-configuration-and-device-tree-differences..patch"
SRC_URI += "file://0108-bcm2835-cpufreq-Only-report-a-single-frequency-when-.patch"
SRC_URI += "file://0109-scripts-mkknlimg-Change-string-for-DDT-detection.patch"
SRC_URI += "file://0110-build-support-for-.dtbo-files-for-dtb-overlays.patch"
SRC_URI += "file://0111-bcm2835-camera-fix-compilation-warning-werror.patch"
SRC_URI += "file://0112-bcm2709-Drop-platform-smp-and-timer-init-code.patch"
SRC_URI += "file://0113-BCM270X_DT-Use-bcm283x.dtsi-bcm2835.dtsi-and-bcm2836.patch"
SRC_URI += "file://0114-watchdog-bcm2835-Support-setting-reboot-partition.patch"
SRC_URI += "file://0115-bcm270x-Use-watchdog-for-reboot-poweroff.patch"
SRC_URI += "file://0116-bcm270x-Remove-dead-files.patch"
SRC_URI += "file://0117-bcm270x-Drop-bcm2835-aux-uart-hack.patch"
SRC_URI += "file://0118-bcm270x-Remove-unnecessary-of_platform_populate.patch"
SRC_URI += "file://0119-bcm270x-Remove-4MB-dma-coherent-pool.patch"
SRC_URI += "file://0120-bcm270x-Drop-map_io-device-mapping.patch"
SRC_URI += "file://0121-bcm270x-Use-DT_MACHINE_START.patch"
SRC_URI += "file://0122-Use-DT-rather-than-modules-params-for-board-rev-and-.patch"
SRC_URI += "file://0123-Register-the-clocks-early-during-the-boot-process-so.patch"
SRC_URI += "file://0124-Add-Adafruit-pitft35-touchscreen-support-1657.patch"
SRC_URI += "file://0125-BCM270X_DT-Update-CM3-to-use-sdhost-interface.patch"
SRC_URI += "file://0126-mmc-info-not-err-msg-on-clock-probe-deferral.patch"
SRC_URI += "file://0127-ARM64-Modify-default-config-to-get-raspbian-to-boot-.patch"
SRC_URI += "file://0128-Support-for-Blokas-Labs-pisound-board.patch"
SRC_URI += "file://0129-FIXUP-pisound-Fix-a-warning-in-DEBUG-builds.patch"
SRC_URI += "file://0130-bcm270x-Remove-bcm2708_reboot_mode-parameter.patch"
SRC_URI += "file://0131-bcm270x-Remove-NEED_MACH_IO_H.patch"
SRC_URI += "file://0132-dwc_otg-Pass-struct-device-to-dma_alloc.patch"
SRC_URI += "file://0133-mmc-bcm2835-sdhost-Pass-struct-device-to-dma_alloc.patch"
SRC_URI += "file://0134-bcm270x-Drop-NEED_MACH_MEMORY_H-and-use-DT-dma-range.patch"
SRC_URI += "file://0135-dts-Remove-bcm2835-rpi-cm.dts.patch"
SRC_URI += "file://0136-bcm2708-Convert-to-ARCH_MULTIPLATFORM.patch"
SRC_URI += "file://0137-bcm2709-Convert-to-ARCH_MULTIPLATFORM.patch"
SRC_URI += "file://0138-kconfig-Just-use-ARCH_BCM2835-for-depends-on.patch"
SRC_URI += "file://0139-bcm270x-Use-dma-ranges-unconditionally-on-bcm2710.patch"
SRC_URI += "file://0140-BCM270X_DT-Use-raspberrypi-power-to-turn-on-USB-powe.patch"
SRC_URI += "file://0141-firmware-bcm2835-Don-t-turn-on-USB-power.patch"
SRC_URI += "file://0142-bcm2835-Increase-coherent-allocation-to-1M-for-dwc_o.patch"
SRC_URI += "file://0143-dwc_otg-Warn-if-dma_alloc_coherent-fails.patch"
SRC_URI += "file://0144-bcmrpi3_defconfig-Update-config-to-be-compatible-wit.patch"
SRC_URI += "file://0145-spi-bcm2835-Remove-unused-code.patch"
SRC_URI += "file://0146-i2c-bcm2835-Fix-hang-for-writing-messages-larger-tha.patch"
SRC_URI += "file://0147-i2c-bcm2835-Protect-against-unexpected-TXW-RXR-inter.patch"
SRC_URI += "file://0148-i2c-bcm2835-Use-dev_dbg-logging-on-transfer-errors.patch"
SRC_URI += "file://0149-i2c-bcm2835-Can-t-support-I2C_M_IGNORE_NAK.patch"
SRC_URI += "file://0150-i2c-bcm2835-Add-support-for-Repeated-Start-Condition.patch"
SRC_URI += "file://0151-i2c-bcm2835-Support-i2c-dev-ioctl-I2C_TIMEOUT.patch"
SRC_URI += "file://0152-i2c-bcm2835-Add-support-for-dynamic-clock.patch"
SRC_URI += "file://0153-i2c-bcm2835-Add-debug-support.patch"
SRC_URI += "file://0154-config-Enable-i2c-bcm2835.patch"
SRC_URI += "file://0155-BCM270X_DT-Use-i2c-bcm2835-as-default.patch"
SRC_URI += "file://0156-BCM270X_DT-Add-fallback-overlay-for-i2c-bcm2708.patch"
SRC_URI += "file://0157-clk-bcm2835-Clamp-the-PLL-s-requested-rate-to-the-ha.patch"
SRC_URI += "file://0158-config-Add-CONFIG_HTU21-module.patch"
SRC_URI += "file://0159-bcm2708_fb-Add-ioctl-for-reading-gpu-memory-through-.patch"
SRC_URI += "file://0160-rpi-ft5406-Create-coherent-buffer-and-push-to-firmwa.patch"
SRC_URI += "file://0161-brcmvirt_gpio-Create-coherent-buffer-and-push-to-fir.patch"
SRC_URI += "file://0162-fixup-fb-Use-basic-types-for-dma-addresses-as-these-.patch"
SRC_URI += "file://0163-BCM270x_DT-Drop-using-ARCH_BCM2708-and-ARCH_BCM2709.patch"
SRC_URI += "file://0164-Drop-ARCH_BCM2708-and-ARCH_BCM2709.patch"
SRC_URI += "file://0165-mkknlimg-Retain-downstream-kernel-detection.patch"
SRC_URI += "file://0166-fixup-fb-Use-correct-bus-address-for-dest-of-dma-mem.patch"
SRC_URI += "file://0167-fixup-fb-Use-struct-device-for-dma_alloc_coherent.patch"
SRC_URI += "file://0168-ARM-dts-Visit-overlays-subdir-unconditionally.patch"
SRC_URI += "file://0169-Fix-bit-offsets-for-equal-volume-and-add-8-kHz-opera.patch"
SRC_URI += "file://0170-ARM-dts-Restore-dtbs_install-functionality.patch"
SRC_URI += "file://0171-config-Add-ABX80X-RTC-driver-and-overlay.patch"
SRC_URI += "file://0172-config-Add-AK4554-audio-codec-driver.patch"
SRC_URI += "file://0173-BCM2835-v4l2-Fix-a-conformance-test-failure.patch"
SRC_URI += "file://0174-hifiberry-Make-driver-names-unique-in-first-15-chara.patch"
SRC_URI += "file://0175-BCM2835-DT-Add-DTC_FLAGS-to-support-overlays.patch"
SRC_URI += "file://0176-Add-overlays-symlink-and-dtbo-target-for-ARM64-1739.patch"
SRC_URI += "file://0177-BCM270X_DT-Add-overlay-for-enc28j60-on-SPI2.patch"
SRC_URI += "file://0178-RPI-FT5406-Enable-aarch64-support-through-explicit-i.patch"
SRC_URI += "file://0179-BCM270X_DT-Add-midi-uart0-overlay.patch"
SRC_URI += "file://0180-raspberrypi-firmware-Define-the-MBOX-channel-in-the-.patch"
SRC_URI += "file://0181-raspberrypi-firmware-Export-the-general-transaction-.patch"
SRC_URI += "file://0182-drm-fb-helper-Add-a-dummy-remove_conflicting_framebu.patch"
SRC_URI += "file://0183-drm-Don-t-implement-empty-prepare_fb-cleanup_fb.patch"
SRC_URI += "file://0184-drm-vc4-Disallow-interlaced-modes-on-DPI.patch"
SRC_URI += "file://0185-drm-vc4-Fix-handling-of-interlaced-video-modes.patch"
SRC_URI += "file://0186-drm-vc4-Reject-doublescan-modes.patch"
SRC_URI += "file://0187-drm-vc4-Enable-precise-vblank-timestamping-for-inter.patch"
SRC_URI += "file://0188-drm-vc4-Enable-Disable-vblanks-properly-in-crtc-en-d.patch"
SRC_URI += "file://0189-drm-vc4-Don-t-force-new-binner-overflow-allocation-p.patch"
SRC_URI += "file://0190-drm-atomic-helper-Add-NO_DISABLE_AFTER_MODESET-flag-.patch"
SRC_URI += "file://0191-drm-Don-t-swallow-error-codes-in-drm_dev_alloc.patch"
SRC_URI += "file://0192-drm-vc4-cleanup-with-list_first_entry_or_null.patch"
SRC_URI += "file://0193-drm-vc4-Enable-limited-range-RGB-output-on-HDMI-with.patch"
SRC_URI += "file://0194-drm-vc4-Fall-back-to-using-an-EDID-probe-in-the-abse.patch"
SRC_URI += "file://0195-drm-vc4-Increase-timeout-for-HDMI_SCHEDULER_CONTROL-.patch"
SRC_URI += "file://0196-drm-vc4-Fix-support-for-interlaced-modes-on-HDMI.patch"
SRC_URI += "file://0197-drm-vc4-Set-up-the-AVI-and-SPD-infoframes.patch"
SRC_URI += "file://0198-drm-vc4-Add-support-for-double-clocked-modes.patch"
SRC_URI += "file://0199-drm-vc4-Add-a-mode-for-using-the-closed-firmware-for.patch"
SRC_URI += "file://0200-drm-fb-helper-Add-a-dummy-remove_conflicting_framebu.patch"
SRC_URI += "file://0201-BCM270X-Add-an-overlay-for-enabling-the-vc4-driver-i.patch"
SRC_URI += "file://0202-drm-vc4-Add-support-for-rendering-with-ETC1-textures.patch"
SRC_URI += "file://0203-drm-vc4-Add-fragment-shader-threading-support.patch"
SRC_URI += "file://0204-config-fixup.patch"
SRC_URI += "file://0205-BCM270X_DT-Add-i2c-sensor-overlay.patch"
SRC_URI += "file://0206-BCM270X_DT-overlays-overlay.dtb-overlays-.dtbo-1752.patch"
SRC_URI += "file://0207-Revert-HID-dragonrise-fix-HID-Descriptor-for-0x0006-.patch"
SRC_URI += "file://0208-bcm2835-rng-Avoid-initialising-if-already-enabled.patch"
SRC_URI += "file://0209-Add-support-for-Silicon-Labs-Si7013-20-21-humidity-t.patch"
SRC_URI += "file://0210-Document-the-si7020-option.patch"
SRC_URI += "file://0211-pisound-improvements.patch"
SRC_URI += "file://0212-BCM270X_DT-Add-pi3-disable-wifi-overlay.patch"
